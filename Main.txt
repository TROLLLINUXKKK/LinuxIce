-- ui by icemael
-- fixed by davi999
-- exclusive to Shnmax

local IceHub = {}

local Options = {
    BrookhavenTitle = "Shnmaxhub - Brookhaven",
    TitleColor = Color3.fromRGB(255, 0, 0), -- Changed to red
    LabelColor = Color3.fromRGB(255, 40, 40), -- Changed to bright red
    Owners = {"Shelby"},
    Discord1 = "https://discord.gg/dVZjkKFPPg",
    Discord2 = "https://discord.gg/dVZjkKFPPg"
}

local GameTitle = Options.BrookhavenTitle
local titlecolor = Options.TitleColor
local labelcolor = Options.LabelColor
local owners = Options.Owners
local discord1 = Options.Discord1
local discord2 = Options.Discord2
local player = game.Players.LocalPlayer

function IceHub.CreateMain()
    local CoreGui = gethui() or game:GetService("CoreGui")

    if CoreGui:FindFirstChild("Icehub libary") then
        CoreGui:FindFirstChild("Icehub libary"):Destroy()
    end

    local Library = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    local UICorner = Instance.new("UICorner")
    local TabContainer = Instance.new("Frame")
    local UICorner_2 = Instance.new("UICorner")
    local ScrollingFrame = Instance.new("ScrollingFrame")
    local UIListLayout = Instance.new("UIListLayout")
    local Menu = Instance.new("TextButton")
    local UICornersss = Instance.new("UICorner")
    local FrameContainer = Instance.new("Folder")
    local MenuPage = Instance.new("ScrollingFrame")
    local NameLabel = Instance.new("TextLabel")
    local UICorner_4 = Instance.new("UICorner")
    local Discord = Instance.new("TextButton")
    local UICorner_6 = Instance.new("UICorner")
    local IcyImage = Instance.new("ImageLabel")
    local NillestImage = Instance.new("ImageLabel")
    local NillestRoblox = Instance.new("TextLabel")
    local NillestDiscord = Instance.new("TextLabel")
    local UICorner_7 = Instance.new("UICorner")
    local UICorner_8 = Instance.new("UICorner")
    local UICorner_888 = Instance.new("UICorner")
    local KickAll = Instance.new("TextButton")
    local UICorner_9 = Instance.new("UICorner")
    local TextLabel = Instance.new("TextLabel")
    local IcyRoblox = Instance.new("TextLabel")
    local IcyYoutube = Instance.new("TextLabel")
    local IcyDiscord = Instance.new("TextLabel")
    local TemplateLabel = Instance.new("TextLabel")
    local UICorner_13 = Instance.new("UICorner")
    local TemplateTargettedLabel = Instance.new("TextLabel")
    local UICorner_14 = Instance.new("UICorner")
    local Target = Instance.new("TextLabel")
    local TemplateSlider = Instance.new("Frame")
    local UICorner_15 = Instance.new("UICorner")
    local SliderButton = Instance.new("TextButton")
    local UICorner_16 = Instance.new("UICorner")
    local Bar = Instance.new("Frame")
    local UICorner_17 = Instance.new("UICorner")
    local Value = Instance.new("TextLabel")
    local SliderTitle = Instance.new("TextLabel")
    local SettingsPage = Instance.new("ScrollingFrame")
    local UIListLayout_4 = Instance.new("UIListLayout")
    local TopFrame = Instance.new("Frame")
    local UICorner_21 = Instance.new("UICorner")
    local Close = Instance.new("TextButton")
    local UICorner_22 = Instance.new("UICorner")
    local Minimize = Instance.new("TextButton")
    local UICorner_23 = Instance.new("UICorner")
    local Title = Instance.new("TextLabel")
    local UICorner_24 = Instance.new("UICorner")
    local ClosePage = Instance.new("TextButton")
    local UICorner_25 = Instance.new("UICorner")
    local CloseFrame = Instance.new("Frame")
    local DontClose = Instance.new("TextButton")
    local UICorner_26 = Instance.new("UICorner")
    local YesClose = Instance.new("TextButton")
    local UICorner_27 = Instance.new("UICorner")
    local TextLabel_2 = Instance.new("TextLabel")
    local UICorner_28 = Instance.new("UICorner")
    local NotifyFolder = Instance.new("Folder")
    local Notify = Instance.new("Frame")
    local UICorner_29 = Instance.new("UICorner")
    local NotifyText = Instance.new("TextLabel")
    local TimerBar = Instance.new("Frame")
    local UICorner_30 = Instance.new("UICorner")
    local ImageNotify = Instance.new("Frame")
    local UICorner_31 = Instance.new("UICorner")
    local NotifyText_2 = Instance.new("TextLabel")
    local TimerBar_2 = Instance.new("Frame")
    local UICorner_32 = Instance.new("UICorner")
    local NotifyImage = Instance.new("ImageLabel")
    local UICorner_33 = Instance.new("UICorner")

    Library.Name = "Icehub libary"
    Library.Parent = CoreGui
    Library.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    MainFrame.Name = "MainFrame"
    MainFrame.Parent = Library
    MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    MainFrame.BackgroundColor3 = Color3.fromRGB(10, 10, 10) -- Darker black
    MainFrame.BorderColor3 = Color3.fromRGB(10, 10, 10) -- Darker black
    MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    MainFrame.Size = UDim2.new(0, 425, 0, 210)
    MainFrame.Active = true
    MainFrame.Draggable = true
    
    local ButtonBorder = Instance.new("UIStroke")
    ButtonBorder.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonBorder.Thickness = 0.5
    ButtonBorder.Color = Color3.fromRGB(30, 30, 30) -- Darker border
    ButtonBorder.Parent = MainFrame

    UICorner.CornerRadius = UDim.new(0, 4)
    UICorner.Parent = MainFrame

    TabContainer.Name = "TabContainer"
    TabContainer.Parent = MainFrame
    TabContainer.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    TabContainer.BorderColor3 = Color3.fromRGB(30, 30, 30) -- Darker border
    TabContainer.Size = UDim2.new(0, 110, 0, 210)
    
    UICorner_2.CornerRadius = UDim.new(0, 3)
    UICorner_2.Parent = TabContainer

    ScrollingFrame.Parent = TabContainer
    ScrollingFrame.Active = true
    ScrollingFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15) -- Darker
    ScrollingFrame.BackgroundTransparency = 0
    ScrollingFrame.BorderColor3 = Color3.fromRGB(10, 10, 10) -- Darker
    ScrollingFrame.Position = UDim2.new(0.0454545468, 0, 0.176190615, 0)
    ScrollingFrame.Size = UDim2.new(0, 100, 0, 172)
    ScrollingFrame.BottomImage = ""
    ScrollingFrame.CanvasSize = UDim2.new(0, 0, 10, 0)
    ScrollingFrame.MidImage = ""
    ScrollingFrame.ScrollBarThickness = 0
    ScrollingFrame.TopImage = ""
    
    local ButtonBorder2 = Instance.new("UIStroke")
    ButtonBorder2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonBorder2.Thickness = 0.5
    ButtonBorder2.Color = Color3.fromRGB(30, 30, 30) -- Darker border
    ButtonBorder2.Parent = ScrollingFrame

    UIListLayout.Parent = ScrollingFrame
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout.Padding = UDim.new(0, 3)

    Menu.Name = "TemplateTab"
    Menu.Parent = ScrollingFrame
    Menu.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    Menu.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    Menu.Position = UDim2.new(0, 0, -1.77427779e-07, 0)
    Menu.Size = UDim2.new(0, 99, 0, 30)
    Menu.AutoButtonColor = false
    Menu.Font = Enum.Font.Gotham
    Menu.Text = "Menu"
    Menu.TextColor3 = Color3.fromRGB(200, 0, 0) -- Dark red
    Menu.TextSize = 12.000
    Menu.MouseButton1Click:Connect(function()
        for i,v in pairs(TabContainer.ScrollingFrame:GetChildren()) do
            if v:IsA("TextButton") then
                v.TextColor3 = Color3.fromRGB(255, 255, 255)
            end
        end
        Menu.TextColor3 = Color3.fromRGB(255, 0, 0) -- Bright red
        
        for i,v in pairs(FrameContainer:GetChildren()) do
            if v:IsA("ScrollingFrame") then
                v.Visible = false
            end
        end
        FrameContainer.MenuPage.Visible = true
    end)

    UICornersss.CornerRadius = UDim.new(0, 3)
    UICornersss.Parent = Menu

    FrameContainer.Name = "FrameContainer"
    FrameContainer.Parent = MainFrame

    MenuPage.Name = "MenuPage"
    MenuPage.Parent = FrameContainer
    MenuPage.Active = true
    MenuPage.BackgroundColor3 = Color3.fromRGB(15, 15, 15) -- Darker
    MenuPage.BorderColor3 = Color3.fromRGB(30, 30, 30) -- Darker border
    MenuPage.Position = UDim2.new(0.273000002, 0, 0.159999996, 0)
    MenuPage.Size = UDim2.new(0, 303, 0, 170)
    MenuPage.CanvasSize = UDim2.new(0, 0, 50, 0)
    MenuPage.ScrollBarThickness = 0

    NameLabel.Name = "NameLabel"
    NameLabel.Parent = MenuPage
    NameLabel.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    NameLabel.BackgroundTransparency = 0
    NameLabel.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    NameLabel.Position = UDim2.new(0.375201404, 0, 0.000481928233, 0)
    NameLabel.Size = UDim2.new(0, 180, 0, 27)
    NameLabel.Font = Enum.Font.SourceSans
    NameLabel.Text = "Hey " .. player.Name
    NameLabel.TextColor3 = Color3.fromRGB(255, 40, 40) -- Bright red
    NameLabel.TextSize = 14.000
    
    local ButtonBorder3 = Instance.new("UIStroke")
    ButtonBorder3.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonBorder3.Thickness = 0.5
    ButtonBorder3.Color = Color3.fromRGB(30, 30, 30) -- Darker border
    ButtonBorder3.Parent = NameLabel

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 4) 
    corner.Parent = NameLabel

    -- Removed ImageLabel (roblox profile png)

    Discord.Name = "Discord"
    Discord.Parent = MenuPage
    Discord.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    Discord.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    Discord.Position = UDim2.new(0.374000013, 0, 0.00350000011, 0)
    Discord.Size = UDim2.new(0, 180, 0, 27)
    Discord.AutoButtonColor = false
    Discord.Font = Enum.Font.SourceSans
    Discord.Text = "Copy Discord Invite"
    Discord.TextColor3 = Color3.fromRGB(255, 40, 40) -- Bright red
    Discord.TextSize = 14
    
    local ButtonBorder4 = Instance.new("UIStroke")
    ButtonBorder4.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonBorder4.Thickness = 0.5
    ButtonBorder4.Color = Color3.fromRGB(30, 30, 30) -- Darker border
    ButtonBorder4.Parent = Discord

    UICorner_6.CornerRadius = UDim.new(0, 4)
    UICorner_6.Parent = Discord

    pcall(function()
        Discord.MouseButton1Click:Connect(function()
            setclipboard("https://discord.gg/dVZjkKFPPg")
        end)
    end)

    IcyImage.Name = "IcyImage"
    IcyImage.Parent = MenuPage
    IcyImage.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    IcyImage.BorderColor3 = Color3.fromRGB(30, 30, 30) -- Darker border
    IcyImage.Position = UDim2.new(0.0249417536, 0, 0.0123815509, 0)
    IcyImage.Size = UDim2.new(0, 91, 0, 91)
    IcyImage.Image = "rbxassetid://7072718365" -- Generic placeholder

    local ButtonBorder5 = Instance.new("UIStroke")
    ButtonBorder5.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonBorder5.Thickness = 0.5
    ButtonBorder5.Color = Color3.fromRGB(30, 30, 30) -- Darker border
    ButtonBorder5.Parent = IcyImage

    UICorner_7.CornerRadius = UDim.new(0, 4)
    UICorner_7.Parent = IcyImage
    
    NillestImage.Name = "NillestImage"
    NillestImage.Parent = MenuPage
    NillestImage.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    NillestImage.BorderColor3 = Color3.fromRGB(30, 30, 30) -- Darker border
    NillestImage.Position = UDim2.new(0.0249417536, 0, 0.0219548456, 0)
    NillestImage.Size = UDim2.new(0, 91, 0, 91)
    NillestImage.Image = "rbxassetid://7072718365" -- Generic placeholder

    local ButtonBorder6 = Instance.new("UIStroke")
    ButtonBorder6.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonBorder6.Thickness = 0.5
    ButtonBorder6.Color = Color3.fromRGB(30, 30, 30) -- Darker border
    ButtonBorder6.Parent = NillestImage

    UICorner_8.CornerRadius = UDim.new(0, 4)
    UICorner_8.Parent = NillestImage

    local TweenService = game:GetService("TweenService")
    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local LocalPlayer = Players.LocalPlayer
    KickAll = Instance.new("TextButton")

    KickAll.Name = "KickAll"
    KickAll.Parent = MenuPage
    KickAll.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    KickAll.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    KickAll.Position = UDim2.new(0.374412775,0,0.00655617705,0)
    KickAll.Size = UDim2.new(0,180,0,27)
    KickAll.AutoButtonColor = false
    KickAll.Font = Enum.Font.SourceSans
    KickAll.Text = "Kick All"
    KickAll.TextColor3 = Color3.fromRGB(255, 40, 40) -- Bright red
    KickAll.TextSize = 14

    local ButtonBorder7 = Instance.new("UIStroke")
    ButtonBorder7.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonBorder7.Thickness = 0.5
    ButtonBorder7.Color = Color3.fromRGB(30, 30, 30) -- Darker border
    ButtonBorder7.Parent = KickAll

    UICorner_9.CornerRadius = UDim.new(0,4)
    UICorner_9.Parent = KickAll

    KickAll.MouseButton1Click:Connect(function()
        local player = Players.LocalPlayer

        local success, character = pcall(function()
            return player.Character or player.CharacterAdded:Wait()
        end)

        if not success or not character then
            warn("Failed to get the player's character.")
            return
        end

        local hrp = character:WaitForChild("HumanoidRootPart")

        pcall(function()
            workspace.CurrentCamera:Destroy()
        end)

        local storeButton
        pcall(function()
            storeButton = workspace.WorkspaceCom["001_CommercialStores"].CommercialPlot1Buttons:WaitForChild("Commercial1Store1")
        end)

        if storeButton then
            hrp.CFrame = storeButton.CFrame + Vector3.new(0, 0, 0)

            local clickDetector
            pcall(function()
                clickDetector = storeButton:WaitForChild("ClickDetector")
            end)

            if clickDetector then
                pcall(function()
                    fireclickdetector(clickDetector)
                end)
            end
        end

        local tools = workspace.WorkspaceCom["001_CommercialStores"].CommercialStorage1.Store.Tools

        local iphone, laptop
        pcall(function()
            iphone = tools:WaitForChild("Iphone")
            laptop = tools:WaitForChild("Laptop")
        end)

        local function safeClick(tool)
            if tool then
                pcall(function()
                    if tool:FindFirstChild("ClickDetector") then
                        fireclickdetector(tool.ClickDetector)
                    end
                end)
            end
        end

        local timesPerFrame = 150

        RunService.RenderStepped:Connect(function()
            for i = 1, timesPerFrame do
                safeClick(iphone)
                safeClick(laptop)
            end
        end)
    end)

    TextLabel.Parent = MenuPage
    TextLabel.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    TextLabel.BackgroundTransparency = 0
    TextLabel.Position = UDim2.new(0.374412775, 0, 0.01060241, 0)
    TextLabel.Size = UDim2.new(0, 180, 0, 27)
    TextLabel.Font = Enum.Font.SourceSans
    TextLabel.Text = "Developers"
    TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
    TextLabel.TextSize = 14.000
    
    local ButtonBorder8 = Instance.new("UIStroke")
    ButtonBorder8.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonBorder8.Thickness = 0.5
    ButtonBorder8.Color = Color3.fromRGB(30, 30, 30) -- Darker border
    ButtonBorder8.Parent = TextLabel

    IcyRoblox.Name = "IcyRoblox"
    IcyRoblox.Parent = MenuPage
    IcyRoblox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    IcyRoblox.BackgroundTransparency = 1.000
    IcyRoblox.Position = UDim2.new(0.374412775, 0, 0.0148192821, 0)
    IcyRoblox.Size = UDim2.new(0, 100, 0, 15)
    IcyRoblox.Font = Enum.Font.SourceSans
    IcyRoblox.Text = "Empty The Devs are trying to ban us"
    IcyRoblox.TextColor3 = Color3.fromRGB(255, 40, 40) -- Bright red
    IcyRoblox.TextSize = 14.000
    IcyRoblox.TextXAlignment = Enum.TextXAlignment.Left

    IcyYoutube.Name = "IcyYoutube"
    IcyYoutube.Parent = MenuPage
    IcyYoutube.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    IcyYoutube.BackgroundTransparency = 1.000
    IcyYoutube.Position = UDim2.new(0.374412775, 0, 0.0162650626, 0)
    IcyYoutube.Size = UDim2.new(0, 100, 0, 15)
    IcyYoutube.Font = Enum.Font.SourceSans
    IcyYoutube.Text = "Channel: @shnmaxhub_devx"
    IcyYoutube.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
    IcyYoutube.TextSize = 14.000
    IcyYoutube.TextXAlignment = Enum.TextXAlignment.Left

    IcyDiscord.Name = "IcyDiscord"
    IcyDiscord.Parent = MenuPage
    IcyDiscord.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    IcyDiscord.BackgroundTransparency = 1.000
    IcyDiscord.Position = UDim2.new(0.374412775, 0, 0.0175903663, 0)
    IcyDiscord.Size = UDim2.new(0, 100, 0, 15)
    IcyDiscord.Font = Enum.Font.SourceSans
    IcyDiscord.Text = "Discord: @shnmaxscriptsowner"
    IcyDiscord.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
    IcyDiscord.TextSize = 14.000
    IcyDiscord.TextXAlignment = Enum.TextXAlignment.Left
    
    NillestRoblox.Name = "NillestRoblox"
    NillestRoblox.Parent = MenuPage
    NillestRoblox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    NillestRoblox.BackgroundTransparency = 1.000
    NillestRoblox.Position = UDim2.new(0.374412775, 0, 0.0248192828, 0)
    NillestRoblox.Size = UDim2.new(0, 100, 0, 15)
    NillestRoblox.Font = Enum.Font.SourceSans
    NillestRoblox.Text = "Empty The Devs are trying to ban us"
    NillestRoblox.TextColor3 = Color3.fromRGB(255, 40, 40) -- Bright red
    NillestRoblox.TextSize = 14.000
    NillestRoblox.TextXAlignment = Enum.TextXAlignment.Left

    NillestDiscord.Name = "NillestDiscord"
    NillestDiscord.Parent = MenuPage
    NillestDiscord.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    NillestDiscord.BackgroundTransparency = 1.000
    NillestDiscord.Position = UDim2.new(0.374412775, 0, 0.0261445791, 0)
    NillestDiscord.Size = UDim2.new(0, 100, 0, 15)
    NillestDiscord.Font = Enum.Font.SourceSans
    NillestDiscord.Text = "Discord: @fudidasosantsdasilva"
    NillestDiscord.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
    NillestDiscord.TextSize = 14.000
    NillestDiscord.TextXAlignment = Enum.TextXAlignment.Left
    
    TopFrame.Name = "TopFrame"
    TopFrame.Parent = MainFrame
    TopFrame.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    TopFrame.BorderColor3 = Color3.fromRGB(30, 30, 30) -- Darker border
    TopFrame.Position = UDim2.new(0, 0, -0.00476175966, 0)
    TopFrame.Size = UDim2.new(0, 425, 0, 30)

    local ButtonBorder9 = Instance.new("UIStroke")
    ButtonBorder9.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
    ButtonBorder9.Thickness = 0.5
    ButtonBorder9.Color = Color3.fromRGB(30, 30, 30) -- Darker border
    ButtonBorder9.Parent = TopFrame

    UICorner_21.CornerRadius = UDim.new(0, 4)
    UICorner_21.Parent = TopFrame

    Close.Name = "Close"
    Close.Parent = TopFrame
    Close.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    Close.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    Close.Position = UDim2.new(0.929411769, 0, 0, 0)
    Close.Size = UDim2.new(0, 30, 0, 30)
    Close.AutoButtonColor = false
    Close.Font = Enum.Font.Gotham
    Close.Text = "X"
    Close.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
    Close.TextSize = 12.000

    UICorner_22.CornerRadius = UDim.new(0, 4)
    UICorner_22.Parent = Close

    local Times = 0

    Close.MouseButton1Click:Connect(function()
        Times = Times + 1

        if Times == 1 then
            local redTween = TweenService:Create(
                Close,
                TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {TextColor3 = Color3.fromRGB(255, 40, 40)} -- Bright red
            )
            redTween:Play()

            task.delay(5, function()
                local whiteTween = TweenService:Create(
                    Close,
                    TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                    {TextColor3 = Color3.fromRGB(255, 255, 255)} -- White
                )
                whiteTween:Play()
                Times = 0
            end)

        elseif Times == 2 then
            ClosePage.Visible = true
            CloseFrame.Visible = true
            DontClose.Visible = true
            YesClose.Visible = true
            TextLabel_2.Visible = true

            CloseFrame.Size = UDim2.new(0, 300, 0, 150)
            CloseFrame.Position = UDim2.new(0.5, -150, 1.2, 0)
            CloseFrame.BackgroundTransparency = 1
            TextLabel_2.TextTransparency = 1
            DontClose.TextTransparency = 1
            YesClose.TextTransparency = 1

            local openTween = TweenService:Create(
                CloseFrame,
                TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {Position = UDim2.new(0.5, -150, 0.5, -75), BackgroundTransparency = 0}
            )
            openTween:Play()

            local textTweens = {
                TweenService:Create(TextLabel_2, TweenInfo.new(0.5), {TextTransparency = 0}),
                TweenService:Create(DontClose, TweenInfo.new(0.5), {TextTransparency = 0}),
                TweenService:Create(YesClose, TweenInfo.new(0.5), {TextTransparency = 0}),
            }

            for _, t in ipairs(textTweens) do t:Play() end

            DontClose.MouseButton1Click:Connect(function()
                local closeTween = TweenService:Create(
                    CloseFrame,
                    TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In),
                    {Position = UDim2.new(0.5, -150, 1.2, 0), BackgroundTransparency = 1}
                )
                closeTween:Play()

                local textCloseTweens = {
                    TweenService:Create(TextLabel_2, TweenInfo.new(0.5), {TextTransparency = 1}),
                    TweenService:Create(DontClose, TweenInfo.new(0.5), {TextTransparency = 1}),
                    TweenService:Create(YesClose, TweenInfo.new(0.5), {TextTransparency = 1}),
                }
                for _, t in ipairs(textCloseTweens) do t:Play() end

                closeTween.Completed:Connect(function()
                    ClosePage.Visible = false
                    CloseFrame.Visible = false
                    Times = 0
                end)
            end)

            YesClose.MouseButton1Click:Connect(function()
                Library:Destroy()
            end)
        end
    end)

    Minimize.Name = "Minimize"
    Minimize.Parent = TopFrame
    Minimize.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    Minimize.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    Minimize.Position = UDim2.new(0.858823538, 0, 0, 0)
    Minimize.Size = UDim2.new(0, 30, 0, 30)
    Minimize.AutoButtonColor = false
    Minimize.Font = Enum.Font.Gotham
    Minimize.Text = "-"
    Minimize.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
    Minimize.TextSize = 12.000

    local isMinimized = false
    local AT 
    Minimize.MouseButton1Click:Connect(function()
        if not isMinimized then
            game:GetService("TweenService"):Create(MainFrame,TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),{Position = UDim2.new(0.5, 0, 0, 30),
            Size = UDim2.new(0, 425, 0, 30)
            }):Play()
        
            for i,v in pairs(FrameContainer:GetChildren()) do
                if v.Visible then
                    AT = v
                    v.Visible = false
                end
            end
            TabContainer.Visible = false
            Minimize.Text = "+"
        else
            local TweenFinished = false
        
            local TT = game:GetService("TweenService"):Create(
                MainFrame,
                TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                {Position = UDim2.new(0.5, 0, 0.5, 0), Size = UDim2.new(0, 425, 0, 210)}
            )
        
            TT.Completed:Connect(function()
                TweenFinished = true
            end)
        
            TT:Play()
            repeat task.wait() until TweenFinished
            AT.Visible = true
            TabContainer.Visible = true
        
            Minimize.Text = "-" 
        end
        
        isMinimized = not isMinimized
    end)

    UICorner_23.CornerRadius = UDim.new(0, 4)
    UICorner_23.Parent = Minimize

    Title.Name = "Title"
    Title.Parent = TopFrame
    Title.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
    Title.BorderColor3 = Color3.fromRGB(30, 30, 30) -- Darker border
    Title.Position = UDim2.new(0.0470588244, 0, 0.233333349, 0)
    Title.Size = UDim2.new(0, 200, 0, 15)
    Title.Font = Enum.Font.Gotham
    Title.Text = ""..GameTitle
    Title.TextColor3 = Color3.fromRGB(255, 0, 0) -- Bright red
    Title.TextSize = 12.000
    Title.TextXAlignment = Enum.TextXAlignment.Left

    UICorner_24.CornerRadius = UDim.new(0, 4)
    UICorner_24.Parent = Title

    local Tabs = {}
    local First = true

    function Tabs:NewTab(TabName)
        local TemplateTab = Instance.new("TextButton")
        local UICorner_3 = Instance.new("UICorner")
        local TemplatePage = Instance.new("ScrollingFrame")
        local PageListLayout = Instance.new("UIListLayout")

        local function UpdateSize()
            local cS = PageListLayout.AbsoluteContentSize
            local totalHeight = cS.Y
            
            for _, child in ipairs(TemplatePage:GetChildren()) do
                if child:IsA("Frame") and child.Name == "OptionsFrame" then
                    for i,v in pairs(child:GetChildren()) do
                        if v:IsA("TextButton") then
                            totalHeight = totalHeight + v.AbsoluteSize.Y
                        end
                    end
                end
            end
            
            totalHeight = totalHeight + 10
            
            game.TweenService:Create(
                TemplatePage,
                TweenInfo.new(0.15, Enum.EasingStyle.Linear, Enum.EasingDirection.In),
                {CanvasSize = UDim2.new(0, 0, 0, totalHeight)}
            ):Play()
        end

        TemplateTab.Name = "TemplateTab"
        TemplateTab.Parent = ScrollingFrame
        TemplateTab.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
        TemplateTab.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
        TemplateTab.Position = UDim2.new(0, 0, -1.77427779e-07, 0)
        TemplateTab.Size = UDim2.new(0, 99, 0, 30)
        TemplateTab.AutoButtonColor = false
        TemplateTab.Font = Enum.Font.Gotham
        TemplateTab.Text = ""..TabName
        TemplateTab.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
        TemplateTab.TextSize = 12.000

        UICorner_3.CornerRadius = UDim.new(0, 3)
        UICorner_3.Parent = TemplateTab

        TemplatePage.Name = "TemplatePage"
        TemplatePage.Parent = FrameContainer
        TemplatePage.Active = true
        TemplatePage.BackgroundColor3 = Color3.fromRGB(15, 15, 15) -- Darker
        TemplatePage.BorderColor3 = Color3.fromRGB(30, 30, 30) -- Darker border
        TemplatePage.Position = UDim2.new(0.273000062, 0, 0.160000026, 0)
        TemplatePage.Size = UDim2.new(0, 303, 0, 170)
        TemplatePage.Visible = false
        TemplatePage.ScrollBarThickness = 0

        PageListLayout.Parent = TemplatePage
        PageListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        PageListLayout.Padding = UDim.new(0, 3)

        table.insert(Tabs, TabName)

        UpdateSize()

        TemplatePage.ChildAdded:Connect(UpdateSize)
        TemplatePage.ChildRemoved:Connect(UpdateSize)

        TemplateTab.MouseButton1Click:Connect(function()
            UpdateSize()
            for i,v in next, FrameContainer:GetChildren() do
                if v:IsA("ScrollingFrame") then
                    v.Visible = false
                end
            end
            TemplatePage.Visible = true
            for i,v in next, TabContainer.ScrollingFrame:GetChildren() do
                if v:IsA("TextButton") then
                    v.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
                end
            end
            TemplateTab.TextColor3 = Color3.fromRGB(255, 0, 0) -- Bright red
        end)

        local Sections = {}
        local focusing = false
        local viewDe = false

        function Sections:NewSection(secName, hidden)
            local TemplateSection = Instance.new("Frame")
            local SectionListLayout = Instance.new("UIListLayout")

            local function updateSectionFrame()
                local frameSc = SectionListLayout.AbsoluteContentSize
                TemplateSection.Size = UDim2.new(0, 352, 0, frameSc.Y)
            end

            TemplateSection.Name = "TemplateSection"
            TemplateSection.Parent = TemplatePage
            TemplateSection.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            TemplateSection.BackgroundTransparency = 1.000
            TemplateSection.Size = UDim2.new(0, 280, 0, 30)

            SectionListLayout.Parent = TemplateSection
            SectionListLayout.SortOrder = Enum.SortOrder.LayoutOrder
            SectionListLayout.Padding = UDim.new(0, 3)

            updateSectionFrame()
            UpdateSize()

            local Elements = {}

            function Elements:NewButton(ButtonName, callback)
                callback = callback or function() end
                local TemplateButton = Instance.new("TextButton")
                local TemplateText = Instance.new("TextLabel")
                local UICorner_11 = Instance.new("UICorner")
                local ButtonIcon = Instance.new("ImageLabel")
                local ButtonIcon2 = Instance.new("ImageLabel")
                local ButtonBorder = Instance.new("UIStroke")
                
                TemplateButton.Name = "TemplateButton"
                TemplateButton.Parent = TemplatePage
                TemplateButton.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
                TemplateButton.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
                TemplateButton.Position = UDim2.new(0.05, 0, 0.198794991, 0)
                TemplateButton.Size = UDim2.new(0, 295, 0, 30)
                TemplateButton.Text = ""
                TemplateButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
                
                UICorner_11.CornerRadius = UDim.new(0, 4)
                UICorner_11.Parent = TemplateButton

                ButtonBorder.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                ButtonBorder.Thickness = 0.5
                ButtonBorder.Color = Color3.fromRGB(30, 30, 30) -- Darker border
                ButtonBorder.Parent = TemplateButton

                updateSectionFrame()
                UpdateSize()

                TemplateText.Parent = TemplateButton
                TemplateText.Size = UDim2.new(1, -40, 1, 0)
                TemplateText.Position = UDim2.new(0, 30, 0, 0)
                TemplateText.Text = ""..ButtonName
                TemplateText.Font = Enum.Font.Gotham
                TemplateText.TextSize = 12.000
                TemplateText.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
                TemplateText.TextXAlignment = Enum.TextXAlignment.Left
                TemplateText.BackgroundTransparency = 1

                ButtonIcon.Name = "Icon"
                ButtonIcon.Parent = TemplateButton
                ButtonIcon.BackgroundTransparency = 1
                ButtonIcon.Position = UDim2.new(0, 0, 0.1, 0)
                ButtonIcon.Size = UDim2.new(0, 25, 0, 25)
                ButtonIcon.Image = "rbxassetid://14640546792"

                ButtonIcon2.Name = "Icon"
                ButtonIcon2.Parent = TemplateButton
                ButtonIcon2.BackgroundTransparency = 1
                ButtonIcon2.Position = UDim2.new(0.93, 0, 0.15, 0)
                ButtonIcon2.Size = UDim2.new(0, 20, 0, 20)
                ButtonIcon2.Image = "rbxassetid://109266253466247"
                
                TemplateButton.MouseButton1Click:Connect(function()
                    callback()
                end)
            end

            function Elements:NewToggle(ToggleName, callback)
                callback = callback or function() end
                local TemplateButton = Instance.new("TextButton")
                local TemplateText = Instance.new("TextLabel")
                local UICorner_11 = Instance.new("UICorner")
                local ButtonIcon = Instance.new("ImageLabel")
                local ButtonIcon2 = Instance.new("ImageLabel")
                local ButtonBorder = Instance.new("UIStroke")

                TemplateButton.Name = "TemplateButton"
                TemplateButton.Parent = TemplatePage
                TemplateButton.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
                TemplateButton.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
                TemplateButton.Position = UDim2.new(0.05, 0, 0.198794991, 0)
                TemplateButton.Size = UDim2.new(0, 295, 0, 30)
                TemplateButton.Text = ""
                TemplateButton.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
                UICorner_11.CornerRadius = UDim.new(0, 4)
                UICorner_11.Parent = TemplateButton
                
                ButtonBorder.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                ButtonBorder.Thickness = 0.5
                ButtonBorder.Color = Color3.fromRGB(30, 30, 30) -- Darker border
                ButtonBorder.Parent = TemplateButton

                updateSectionFrame()
                UpdateSize()

                TemplateText.Parent = TemplateButton
                TemplateText.Size = UDim2.new(1, -40, 1, 0)
                TemplateText.Position = UDim2.new(0, 30, 0, 0)
                TemplateText.Text = ""..ToggleName
                TemplateText.Font = Enum.Font.Gotham
                TemplateText.TextSize = 12.000
                TemplateText.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
                TemplateText.TextXAlignment = Enum.TextXAlignment.Left
                TemplateText.BackgroundTransparency = 1

                ButtonIcon.Name = "Icon"
                ButtonIcon.Parent = TemplateButton
                ButtonIcon.BackgroundTransparency = 1
                ButtonIcon.Position = UDim2.new(0, 0, 0.1, 0)
                ButtonIcon.Size = UDim2.new(0, 25, 0, 25)
                ButtonIcon.Image = "rbxassetid://105851806789619"

                ButtonIcon2.Name = "Icon"
                ButtonIcon2.Parent = TemplateButton
                ButtonIcon2.BackgroundTransparency = 1
                ButtonIcon2.Position = UDim2.new(0.93, 0, 0.15, 0)
                ButtonIcon2.Size = UDim2.new(0, 20, 0, 20)
                ButtonIcon2.Image = "rbxassetid://109266253466247"

                local Toggle = false
                TemplateButton.MouseButton1Click:Connect(function()
                    Toggle = not Toggle
                    local TweenService = game:GetService("TweenService")
                    local imageOn = "rbxassetid://100075267963696"
                    local imageOff = "rbxassetid://105851806789619"

                    if Toggle then
                        local tween = TweenService:Create(
                            ButtonIcon,
                            TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                            {
                                Rotation = 90,
                                ImageTransparency = 0,
                                ImageColor3 = Color3.fromRGB(255, 40, 40) -- Red when on
                            }
                        )
                        tween:Play()
                        ButtonIcon.Image = imageOn
                    else
                        local tween = TweenService:Create(
                            ButtonIcon,
                            TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out),
                            {
                                Rotation = 0,
                                ImageTransparency = 0.3,
                                ImageColor3 = Color3.fromRGB(255, 255, 255) -- White when off
                            }
                        )
                        tween:Play()
                        ButtonIcon.Image = imageOff
                    end

                    callback(Toggle)
                end)
            end

            function Elements:NewLabel(LabelText)
                local TemplateLabel = Instance.new("TextLabel")
                local UICorner_10 = Instance.new("UICorner")

                TemplateLabel.Name = "CustomLabel"
                TemplateLabel.Parent = TemplatePage
                TemplateLabel.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
                TemplateLabel.BorderColor3 = Color3.fromRGB(30, 30, 30) -- Darker border
                TemplateLabel.Size = UDim2.new(0, 295, 0, 30)
                TemplateLabel.Font = Enum.Font.Gotham
                TemplateLabel.Text = ""..LabelText
                TemplateLabel.TextColor3 = Color3.fromRGB(255, 40, 40) -- Bright red
                TemplateLabel.TextSize = 12.000
                
                local ButtonBorder = Instance.new("UIStroke")
                ButtonBorder.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                ButtonBorder.Thickness = 0.5
                ButtonBorder.Color = Color3.fromRGB(30, 30, 30) -- Darker border
                ButtonBorder.Parent = TemplateLabel

                UICorner_10.CornerRadius = UDim.new(0, 4)
                UICorner_10.Parent = TemplateLabel

                updateSectionFrame()
                UpdateSize()
            end

            function Elements:NewTextBox(Text, PlaceholderText, callback)
                callback = callback or function() end
                local TemplateBox = Instance.new("TextBox")
                local TemplateText = Instance.new("TextLabel")
                local UICorner_12 = Instance.new("UICorner")
                local ButtonIcon = Instance.new("ImageLabel")
                local ButtonIcon2 = Instance.new("ImageLabel")
                
                TemplateBox.Name = "TemplateBox"
                TemplateBox.Parent = TemplatePage
                TemplateBox.BackgroundColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
                TemplateBox.BorderColor3 = Color3.fromRGB(5, 5, 5) -- Very dark black
                TemplateBox.Position = UDim2.new(0, 0, 0.39759019, 0)
                TemplateBox.Size = UDim2.new(0, 295, 0, 30)
                TemplateBox.Font = Enum.Font.Gotham
                TemplateBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150) -- Lighter gray
                TemplateBox.PlaceholderText = ""..PlaceholderText
                TemplateBox.Text = ""
                TemplateBox.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
                TemplateBox.TextSize = 12.000
                
                local ButtonBorder = Instance.new("UIStroke")
                ButtonBorder.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
                ButtonBorder.Thickness = 0.5
                ButtonBorder.Color = Color3.fromRGB(30, 30, 30) -- Darker border
                ButtonBorder.Parent = TemplateBox

                UICorner_12.CornerRadius = UDim.new(0, 4)
                UICorner_12.Parent = TemplateBox

                updateSectionFrame()
                UpdateSize()
                
                TemplateText.Parent = TemplateBox
                TemplateText.Size = UDim2.new(1, -40, 1, 0)
                TemplateText.Position = UDim2.new(0, 30, 0, 0)
                TemplateText.Text = ""..Text
                TemplateText.Font = Enum.Font.Gotham
                TemplateText.TextSize = 12.000
                TemplateText.TextColor3 = Color3.fromRGB(255, 255, 255) -- White
                TemplateText.TextXAlignment = Enum.TextXAlignment.Left
                TemplateText.BackgroundTransparency = 1
                
                ButtonIcon.Name = "Icon"
                ButtonIcon.Parent = TemplateBox
                ButtonIcon.BackgroundTransparency = 1
                ButtonIcon.Position = UDim2.new(0.02, 0, 0.15, 0)
                ButtonIcon.ImageColor3 = Color3.fromRGB(100, 100, 100) -- Gray
                ButtonIcon.Size = UDim2.new(0, 20, 0, 20)
                ButtonIcon.Image = "rbxassetid://97889814027474"
                ButtonIcon.Rotation = 270

                ButtonIcon2.Name = "Icon"
                ButtonIcon2.Parent = TemplateBox
                ButtonIcon2.BackgroundTransparency = 1
                ButtonIcon2.Position = UDim2.new(0.93, 0, 0.15, 0)
                ButtonIcon2.Size = UDim2.new(0, 20, 0, 20)
                ButtonIcon2.Image = "rbxassetid://109266253466247"
                
                TemplateBox.FocusLost:Connect(function()
                    callback(TemplateBox.Text)
                    wait(0.18)
                    TemplateBox.Text = ""
                end)
            end

            return Elements
        end
        return Sections
    end
    return Tabs
end

return IceHub
